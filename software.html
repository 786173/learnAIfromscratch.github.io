<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2020-01-11 Sat 17:26 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to Construct Software</title>
<meta name="generator" content="Org mode">
<meta name="author" content="jbh">
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
   body {
    background-color: #ededed;
    margin: auto;
    padding: 0.5rem;
    max-width: 80ch; 
  }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<header>
<h1 class="title">How to Construct Software</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org7535442">Intro</a>
<ul>
<li><a href="#org5dad16b">Code of Conduct</a></li>
<li><a href="#org0cd6039">Study advice</a></li>
</ul>
</li>
<li><a href="#org470d95a">Start here</a>
<ul>
<li><a href="#orgdb38499">Materials needed to complete this</a></li>
<li><a href="#org4d537cb">Archiving the assignments (optional)</a></li>
</ul>
</li>
<li><a href="#org8151a90">Lecture 1</a>
<ul>
<li><a href="#org60d58b6">Reading chapter 1 and 2</a></li>
<li><a href="#org8dcc618">Reading chapter 3</a></li>
<li><a href="#org2392f52">Reading chapter 4</a>
<ul>
<li><a href="#orgdfc5302">4.2.3 Exercise</a></li>
</ul>
</li>
<li><a href="#orgd2ebedf">Reading chapter 5</a></li>
<li><a href="#orgffeeb6b">Reading chapter 6</a></li>
<li><a href="#org7317658">Assignment 1: DocDiff</a></li>
</ul>
</li>
<li><a href="#org0e2a63e"><span class="todo TODO">TODO</span> : Brown CS173 <i>Programming Languages</i></a></li>
</ul>
</div>
</nav>

<div id="outline-container-org7535442" class="outline-2">
<h2 id="org7535442">Intro</h2>
<div class="outline-text-2" id="text-org7535442">
<p>
This is a (ongoing) workshop to learn foundational programming skills in designing, writing and optimizing software and is Part IA of the so-called <a href="https://learnaifromscratch.github.io">AI Tripos</a> to get to a level of competency to understand future courses in AI. Doing this concurrently with the other 2 parts helps to understand this material better as programming makes it easier to learn math and learning math makes it easier to program, though it's self contained. The way these notes work is I do this material with you, and point out anything that may trip up a beginner who then is likely to just give up. The further we go on, the more terse the notes will get because I can then assume a background. 
</p>

<p>
If you know how to use a web browser you can start this curriculum, no expertise in software installation, programming or any other background is assumed. 
</p>
</div>

<div id="outline-container-org5dad16b" class="outline-3">
<h3 id="org5dad16b">Code of Conduct</h3>
<div class="outline-text-3" id="text-org5dad16b">
<p>
Don't post your solutions anywhere or bother contacting TAs or professors in the courses we're doing they already have a full schedule of tuition paying students waiting for their attention so your emails will just be spam to them. By not posting solutions to the assignments we can ensure future students can get access to these courses because schools will hide them behind logins if too many solutions are posted. Some of the AI courses we'll see later the assignments have been restricted to the public. We'll work around this but it's annoying.   
</p>
</div>
</div>

<div id="outline-container-org0cd6039" class="outline-3">
<h3 id="org0cd6039">Study advice</h3>
<div class="outline-text-3" id="text-org0cd6039">
<p>
Have the attitude you refuse to not know the material and you'll be fine. If you find you have no time to do this, try getting up a little early so you can put in a single hour that day before doing whatever it is you have to do. Repeat this and by the end of the year you will have put in hundreds of hours you never thought you had. 
</p>
</div>
</div>
</div>

<div id="outline-container-org470d95a" class="outline-2">
<h2 id="org470d95a">Start here</h2>
<div class="outline-text-2" id="text-org470d95a">
<p>
We begin with Brown University's CS019 <i>Accelerated Introduction to Computer Science</i> which is 2 semesters combined into one. Look around the various course <a href="https://cs.brown.edu/courses/cs019/">pages</a>, like the <a href="http://cs.brown.edu/courses/csci0190/2019/README.html">readme</a>, and the notes about the <a href="http://cs.brown.edu/courses/csci0190/2019/policy.html#(part._.Unusual_.Assignments)">unusual assignments</a> which respects the intelligence of the student. Look around the instructor's <a href="https://cs.brown.edu/~sk/">page</a> like his manifesto on the current state of compsci education, and scroll through his <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/">papers</a>. Skim through the <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/rkf-student-ta-hours/paper.pdf">paper</a> on 'What Help Do Students Seek in TA Hours?' because it's from the exact course we are about to take. 'TA' is a teaching assistant, usually a student who did well in the course before. This is a quora <a href="https://www.mooclab.club/threads/what-does-professor-shriram-krishnamurthi-expect-a-student-to-know-after-he-she-works.4012/">post</a> about the book we'll do with the course from the writer/instructor "A person completing the first half is ready for most upper-level computer science". We're doing the entire book. 
</p>

<p>
There is a <a href="http://cs.brown.edu/courses/csci0190/2019/placement.html">placement</a> for the course but we're going to skip it, CS019 assumes no background the placement tests are to see if you can keep up with their very difficult first few months of nonstop assignments. We're not under a deadline.   
</p>
</div>

<div id="outline-container-orgdb38499" class="outline-3">
<h3 id="orgdb38499">Materials needed to complete this</h3>
<div class="outline-text-3" id="text-orgdb38499">
<p>
It's possible to complete this course with just a phone
</p>
<ul class="org-ul">
<li>the <a href="https://papl.cs.brown.edu/2019/">book</a> <i>Programming and Programming Languages</i> (free)</li>
<li>a web browser to view the <a href="https://brown.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx#folderID=%222559ad35-3fff-4ef1-a2ac-a951011eb91e%22&amp;maxResults=50">lectures</a>
<ul class="org-ul">
<li>the lectures are mandatory, cover some extra material from cs019 not in the book</li>
</ul></li>
<li>a web browser to use the Pyret online <a href="https://www.pyret.org/set-sail/">interpreter</a></li>
<li>a google account to save your work if you wish</li>
<li>the 2018 copy of the <a href="https://cs.brown.edu/courses/cs019/2018/assignments.html">assignments</a> since we are watching the 2018 lectures</li>
<li>the labs at the bottom of this <a href="https://cs.brown.edu/courses/cs019/2016/assignments.html">page</a> (Big-O, Higher-Order Functions, Streams etc).</li>
<li>search github for translated notes of the book if needed such as this <a href="https://amiskov.github.io/papl/">Russian</a> translation</li>
</ul>
</div>
</div>

<div id="outline-container-org4d537cb" class="outline-3">
<h3 id="org4d537cb">Archiving the assignments (optional)</h3>
<div class="outline-text-3" id="text-org4d537cb">
<p>
If you have <a href="https://en.wikipedia.org/wiki/Wget">wget</a> installed:
</p>
<pre class="example">
wget --mirror --convert-links --adjust-extension --page-requisites --no-parent https://cs.brown.edu/courses/cs019/2018/assignments.html
</pre>

<p>
You may also want to archive the pyret <a href="https://www.pyret.org/docs/latest/index.html">documentation</a> or even the entire <a href="https://papl.cs.brown.edu/2019/index.html">book</a> using the same method. To archive the lectures try a browser plugin that can download video content and save them as you watch or just wait until I upload them to academictorrents or some other archive should Brown kill access to them.
</p>
</div>
</div>
</div>

<div id="outline-container-org8151a90" class="outline-2">
<h2 id="org8151a90">Lecture 1</h2>
<div class="outline-text-2" id="text-org8151a90">
<p>
We're starting with the lecture titled <a href="https://brown.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=f53a52c3-2d36-406a-bde4-a952013df5e2">Wed 9/5/18</a>. Go to code.pyret.org and click <i>open editor</i> as you follow along the lecture. The book will cover everything he's doing like what a list is, what recursion is, what a function is, this is just a demonstration of the online interpreter. You can run Pyret <a href="https://www.pyret.org/set-sail/">offline</a> too. 
</p>

<p>
Notice he shuts down a lot of out of scope questions to not derail the lecture.  
</p>

<p>
@34:20 is the private app Exemplar which we don't have access to, and is usually an extra assignment on homework. The idea is that the students are given a task 'write a program that calculates the <a href="https://en.wikipedia.org/wiki/Median">median</a> of data in a list'. They start by writing the tests first before implementing the program, to get you to think about the problem. The exemplar app already has a working (and purposely buggy) implementation of the assignment that they can't see the source code for which is where the 'chaffs' are found (potential bugs caught). We will just have to write a lot of tests ourselves, covering enough cases until we've fleshed out the problem enough that we can go about implementing it. 
</p>

<p>
So how can we figure out the student given test cases for the median program? By looking up what a <a href="https://en.wikipedia.org/wiki/Median">median</a> is and the procedure to find it. Reading that article we see that the median is a value that seperates a finite list of numbers, that can be found by arranging them from the smallest to the greatest. If there is an odd number of entries, the middle number that splits the list into two even parts is picked. Otherwise it is defined to be the mean of the two middle values which means add them both and divide by 2, the idea being getting as close as possible to evenly splitting the data. That's why the test for [list: 1, 3, 2] is 2 because your program would reorder the list to be [list: 1, 2, 3] and choose 2 as the median. The Fermi problems he talks about must be released on Piazza which requires campus logins, <a href="https://piazza.com/class">https://piazza.com/class</a> is a kind of wiki/msg forum for courses that encourages anonymous postings so students don't feel embarassed to ask questions. A lot of universities now solely distribute their course materials through it meaning the public doesn't have access anymore. You can find these yourself online anyway by searching for Fermi problems. 
</p>

<p>
At the end he mentions the design recipe, as a way to save TAs time, explaining if you show up to office hours for help they will go about writing a template with the student, going through all the various stages and not just giving them an answer. He notes it is totally optional to use the design recipe, but it will help you with the hard assignments and if you're going to office hours with a lot of questions clearly your methods aren't working so why not try their method. If you read that <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/rkf-student-ta-hours/">paper</a> <i>What Help Do Students Seek in TA Office Hours</i> in the beginning of this workshop you'll see statistical results of the outcomes of students who used the design recipe vs those that didn't and their final grades. When we do the first assignment we'll <a href="https://papl.cs.brown.edu/2015/Programming_in_Pyret.html">try it out</a>. 
</p>
</div>


<div id="outline-container-org60d58b6" class="outline-3">
<h3 id="org60d58b6">Reading chapter 1 and 2</h3>
<div class="outline-text-3" id="text-org60d58b6">
<p>
Let's work through the <a href="https://papl.cs.brown.edu/2019/index.html">book</a> starting at the beginning, I'm using whatever the latest version is (as of this writing, 2019). This book is a work in progress so you'll see some minor errors like "REF" which is supposed to later be a link to whatever reference in the text that's not finished yet.
</p>

<p>
Chapter 2 <i>Basic Data and Expressions</i> do while you have the pyret interpreter at code.pyret.org open. The examples with "&gt;" in front of them indicates enter this into the <a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a>, on the right hand side of the pyret code editor like he did in the lecture pressing enter to eval. It's running a read-eval-print-loop (repl) which means exactly what you think it means. It reads input, evaluates it, prints it to the console and then loops back to waiting to read input again. You can increase the font size if you click the lambda skull logo on the top left side. 
</p>

<p>
Already we are introduced to built-in functions, such as num-expt. To understand these, let's read the <a href="https://www.pyret.org/docs/latest/Builtins_and_Libraries.html">documentation</a> something we will have to a lot of to complete the assignments, and is good training since for all future courses we'll need to look at their documentation. Note: if you have a small screen, you will need to turn your device to landscape or increase the browser window size in order to see the table of contents in the pyret docs which automatically hide depending on screen size and is annoying UI. Find the number functions <a href="https://www.pyret.org/docs/latest/numbers.html#(part._.Number_.Functions)">documentation</a> by hitting Ctrl-F in your browser or otherwise searching the page for 'num-expt'. Here is how you <a href="https://www.pyret.org/docs/latest/numbers.html#(part._numbers_num-expt)">read</a> it. The "::" syntax refers to type expected, so num-expt(base :: Number, exponent :: Number) -&gt; Number is annotation telling you this built-in requires two inputs: a base and an exponent of type number, and it outputs a number. This will be explained in chapter 3. Repeat looking in the documentation to understand what string-subtring() does. Try changing the examples yourself in the REPL as you go. 
</p>

<p>
The last section on roughnums, where irrational numbers like the square root of two return different values is due to floating point approximation. It uses a 'round to nearest' rounding strategy which if you wanted you could learn from this <a href="https://www.youtube.com/watch?v=XVg_tUyyQzA&amp;list=PL3swII2vlVoVspHvAYIvnbbqdV8oEuxkw&amp;index=5&amp;t=0s">lecture</a> but it assumes a technical background we don't have yet, namely that you've completed all the other lectures in that playlist and an introductory programming course. The final exercise <i>Do roughnums obey the axioms of arithmetic operators like distributivity, associativity and commutativity?</i> you can tell immediately from the examples in the book that roughnums are always returning different values, so a + b does not equal b + a if the numbers are roughnums. Think to yourself what would happen if you used floating point to encode money in financial software, with unpredictable results if some trade combination resulted in a roughnum. Oops
</p>
</div>
</div>

<div id="outline-container-org8dcc618" class="outline-3">
<h3 id="org8dcc618">Reading chapter 3</h3>
<div class="outline-text-3" id="text-org8dcc618">
<p>
You spent all of chapter 2 entering commands into the REPL on the right hand side of the pyret online editor, now you'll use the left hand side to write functions and run them by either pressing Ctrl-Enter or the <i>Run</i> button. In 3.5 <i>Defining Functions in Steps</i> notice he changes the tests to not just return the expected value, but to return the expected computation, writing out in full what should be happening. The idea of doing this is to help you write the function. These aren't tests to prove it is correct, they are tests to help understand the full domain of the problem so we can write a model for it with software. 
</p>

<p>
I'm assuming you're doing all the exercises. Let's walk through the 'has-overtime' raises exercise.
</p>

<pre class="example">
fun has-overtime(hours :: Number) -&gt; Boolean:
  doc: "Returns true if hours &gt; 40 or returns false. Hours must be a positive number or error is raised"
  if hours &lt; 0:
    raise("hours must be greater than zero")
  else if hours &gt; 40:
      true
  else:
    false
  end
where:
  has-overtime(40) is false
  has-overtime(40.0001) is true
  has-overtime(-1) raises "hours must be greater than zero"
end
</pre>

<p>
Notice raise() is a built-in function. Where did I find this? In the pyret language documentation. 
</p>

<p>
Let's write some tests for the last exercise hours-to-wages-ot as an example of how writing tests essentially writes the program for you. We have to write a function that consumes hours, an hourly rate, a threshold for OT, and returns anything over that threshold at 1.5 times the rate, adding it to the total pay. 
</p>

<p>
first, let's write the parameters:
</p>
<pre class="example">
fun hours-to-wage-ot(hours :: Number, rate :: Number, threshold :: Number) -&gt; Number:
  doc: "Calculates total pay with all hours over threshold at 1.5 the rate"
where:
end
</pre>
<p>
now let's write the tests:
</p>
<pre class="example">
where:
 hours-to-wage-ot(10, 1, 40) is 10 * 1
 hours-to-wage-ot(41, 1, 40) is (40 * 1) + (1 * (1 * 1.5))
 hours-to-wage-ot(50, 20, 48) is (48 * 20) + ((50 - 48) * (20 * 1.5))
end
</pre>

<p>
Keep writing test cases where you don't just write the final expected result, but how you would arrive at that result. Now writing this program is easy, all I did here was copy the last test case, and the first test case to the function body:
</p>
<pre class="example">
fun hours-to-wages-ot(hours :: Number, rate :: Number, threshold :: Number) -&gt; Number:
  doc: "Calculates pay with all hours over threshold at 1.5 the rate"
  if hours &gt; threshold:
    (threshold * rate) + ((hours - threshold) * (rate * 1.5))
  else:
    hours * rate
  end
where:
  hours-to-wages-ot(10, 1, 40) is 10 * 1
  hours-to-wages-ot(41, 1, 40) is (40 * 1) + (1 * (1 * 1.5))
  hours-to-wages-ot(50, 20, 48) is (48 * 20) + ((50 - 48) * (20 * 1.5))
end



</pre>
</div>
</div>

<div id="outline-container-org2392f52" class="outline-3">
<h3 id="org2392f52">Reading chapter 4</h3>
<div class="outline-text-3" id="text-org2392f52">
<p>
We need to finish up to Chapter 6 <i>Processing Lists</i> to try the first assignment DocDiff, and resume the lectures. This is an interesting and short chapter how you would go about converting data to rows. There's nothing in here you can't already figure out now that you know how to read the documentation for pyret. The goal here is not to memorize all the built-in functions of Pyret but just gain extra experience changing the examples, and learning how to take data and make it into a program. 
</p>

<p>
I noted the text also expects you to start reading documentation, not telling you how to assign a table to a variable so you can run all those sieve expressions on it. See the docs and change the examples in the text as you go to see what they do:
</p>

<pre class="example">
mytable = table: name, age
  row: "Alice", 30
  row: "Bob", 40
  row: "Carol", 25
end

sieve mytable using name:
  name == 'Carol'
end

order mytable:
  name ascending
end
</pre>

<p>
This is similar to <a href="https://n0x400.1mb.dev/#org268f85c">SQL syntax</a>, where you just declare what you want to do to rows and columns instead of how to do it. 4.2.6 selecting syntax is exactly like SQL syntax. Congrats you know some SQL now. Note in 4.2.7 the <i>principle of orthogonality</i> comment on why they composed these table row operations to be independent of each other so combining them in complex expressions is possible. 
</p>
</div>

<div id="outline-container-orgdfc5302" class="outline-4">
<h4 id="orgdfc5302">4.2.3 Exercise</h4>
<div class="outline-text-4" id="text-orgdfc5302">
<p>
<i>Do Now</i> from 4.2.3. We are asked to think about how to write two questions, the first one is given to us so I tried the second which asks <i>Of the songs by a particular artist, which have we played the least often?</i>" using only what we've seen so far: 
</p>

<pre class="example">
myPlaylist = 
  table: artist, song, playcount
    row: "Lustre", "The First Snow", 10
    row: "Lustre", "Green Worlds", 1
    row: "Lustre", "Welcome Winter", 2
  end

order myPlaylist:
  playcount ascending
end
</pre>

<p>
Second Exercise <i>Write the second example as a composition of keep and order operations on a playlist table</i>.
</p>

<pre class="example">
myPlaylist = 
  table: artist, song, playcount
    row: "Lustre", "The First Snow", 10
    row: "Lustre", "Green Worlds", 1
    row: "Lustre", "Welcome Winter", 2
  end

composition = order myPlaylist:
  playcount ascending
end

sieve composition using playcount:
  playcount &lt;= 1
end
</pre>

<p>
Read ahead and play around with this, maybe you just want to return the song name, not the artist name and playcount, experiment with the documentation on your own:
</p>

<pre class="example">
myPlaylist = 
  table: artist, song, playcount
    row: "Lustre", "The First Snow", 10
    row: "Lustre", "Green Worlds", 1
    row: "Lustre", "Welcome Winter", 2
  end

leastPlayed = order myPlaylist:
  playcount ascending
end

select song, playcount from leastPlayed end
</pre>
</div>
</div>
</div>


<div id="outline-container-orgd2ebedf" class="outline-3">
<h3 id="orgd2ebedf">Reading chapter 5</h3>
<div class="outline-text-3" id="text-orgd2ebedf">
<p>
The term <i>datum</i> has been used repeatedly, look up what it means. In 5.3.1 the description of the properties of an 'anonymous value' abstraction by using numbers and asking what they mean is similar to Terence Tao's <i>Linear Algebra</i> text where he points out that the precise property of numbers that makes them useful is their ability to be interpreted differently depending on context. 
</p>

<p>
A <i>Do Now</i> appears. This means we should actually do it. Try to sieve our playlist to show the most played song using built-in language functions from the math/statistics library: 
</p>

<pre class="example">
include math
include statistics

myPlaylist = 
  table: artist, song, playcount
    row: "Lustre", "The First Snow", 10
    row: "Lustre", "Green Worlds", 1
    row: "Lustre", "Welcome Winter", 2
  end

playCount = extract playcount from myPlaylist end
most-played-count = max(playCount)

sieve myPlaylist using playcount:
  playcount == most-played-count
end
</pre>

<p>
How would you rewrite this example? Do I need to import both the math and stats library? What about inconsistent variable naming, like most-played-count VS the camelCase style of other variable names. 
</p>

<p>
Important: the Exercise in 5.4.2 <i>Implement all the other statistical questions posed in Basic Statistical Questions</i> is mandatory. They look easy after reading the book examples, and you definitely will think to yourself 'oh I already know this, time to move on' but you only learn by doing. Remember experts in learning have constructed this book and course and know exactly what you need to do in order to be successful in completing it. There will always be one or two questions in there that will stump you a little and require research to solve the exercise and when you figure it out you will never forget how you found that solution whereas if you skip this exercise, you'll promptly forget in a few days time. I think I completed the upcoming assignment DocDiff a year ago, and I remember exactly how I did it because I had to figure it out myself. That's an entire year of information that flooded my brain and had to be filed, yet I can still retrieve that silly assignment.  
</p>
</div>
</div>

<div id="outline-container-orgffeeb6b" class="outline-3">
<h3 id="orgffeeb6b">Reading chapter 6</h3>
<div class="outline-text-3" id="text-orgffeeb6b">
<p>
6.1/6.2 you can type all those examples in the REPL to see what they do, like manually linking a list together with link. In 6.3.1,"<i>Another way we can write this (paying attention to the right side)"</i> notice the numbers are head of the list plus the rest of the list in the examples. 
</p>

<p>
6.3.3 let's walk through the example of my-len(). The (l) in my-len(l) is just a placeholder, the <i>parameter</i>. It consumes a list for input, so they've used the letter l for an example. The second line: <i>cases (List) l</i>: the (List) indicates what we're doing cases on (it's type), and the l: is the parameter from my-len(l), you bind the input to l and now can work with it in the body of the function. We could've also written my-len(inputList) and then written in the second line <i>cases (List) inputList:</i>.
</p>

<p>
You read the cases as: if case is empty list, return zero, otherwise if there is a list with something in it, return 1 (the head) + the rest of the list. Note we are counting it's length, not summing the numbers. The list could also be [list: A, B, C, D] with length 4. 
</p>

<p>
Recall from the first lecture that link(f, r) can be any variable, such as <i>link(first, rest)</i>. From the book you know why <i>| link(f,r) =&gt; 1 + (the rest of the list</i>) is written here. They didn't tell you but this is recursion and let's evaluate the my-len(l) example in 6.3.3 with an actual list:
</p>

<p>
Try the following and run it:
</p>

<pre class="example">
fun my-len(l):
  cases (List) l:
    | empty      =&gt; 0
    | link(f, r) =&gt; 1 + my-len(r)
  end
end

list1 = [list: 1034, 3, 1]
my-len(list1)
</pre>

<p>
It should return 3. Why? Because this is how the program execution works:
</p>

<pre class="example">
my-len([list: 1034, 3, 1])
1 + my-len([list: 3, 1])
1 + (1 + my-len([list: 1]))
1 + (1 + (1 + my-len([list: ])))
1 + 1 + 1 + 0 (because if list == empty, return 0)
&gt;&gt; 3
</pre>

<p>
You can also nest the cases, if you wanted to get at the head of the 'rest of the list'
</p>

<pre class="example">
fun my-len(l):
  cases (List) l:
    | empty      =&gt; 0
    | link(f, r) =&gt; 
    cases (List) r:
      | link(fr, rr) =&gt; .... 
     end
   end
end
</pre>

<p>
Using an example of [list: 9, 3, 2, 1] this would translate to
</p>
<ul class="org-ul">
<li>f == 9 (first/head of list)</li>
<li>r == 3, 2, 1 (rest)</li>
<li>fr == 3 (first/head of the rest)</li>
<li>rr == 2, 1 (rest of the rest)</li>
</ul>

<p>
6.4.1 the my-str-len(l) function, notice the link function is creating a new list where the length of the current head is linked. We didn't mutate/overwrite the original list, we created a second list. Try stepping through the example to see it's evaluation:
</p>

<pre class="example">
fun my-str-len(l):
  cases (List) l:
    | empty =&gt; empty
    | link(f, r) =&gt;
      link(string-length(f), my-str-len(r))
  end
end

randomString = ([list: "hi", "there", "mateys"])
my-str-len(randomString)

// this evals as the following:
link(2, link(5, link(6, empty)))
</pre>
<ul class="org-ul">
<li>More thoroughly evals:</li>
</ul>
<pre class="example">
link(string-length("hi"), my-str-len([list: "there", "mateys"]))
 link(2, (link(string-length("there"), my-str-len([list: "mateys"]))))
  link(2, link(5, (link(string-length("mateys"), my-str-len([list: ])))))
   link(2, link(5, link(6, empty)))
</pre>

<p>
Why is the last link(6, empty)? Because the cases: empty or link(f, r). You evaluate link(f, link(f, link(f,&#x2026; until the list is empty, upon which the cases simply produce 'empty' for r in link(f, r). Note how string-length() built-in function makes this much easier than having to do all the work manually in the body of the cases, you can simply call to it and then link the returned value and continue on.
</p>

<p>
6.4.2 is another example of how writing explicit tests how things should be computed, you end up writing the function too, such as 'if number is positive, link it otherwise skip this entry and proceed with rest of list'. Try adding some of your own examples as asked, such as 
</p>
<pre class="example">
check:
  my-pos-nums([list: -2, 0, 4]) is link(4, empty)
end
</pre>

<p>
Try the assignment DocDiff before continuing. 
</p>
</div>
</div>


<div id="outline-container-org7317658" class="outline-3">
<h3 id="org7317658">Assignment 1: DocDiff</h3>
<div class="outline-text-3" id="text-org7317658">
<p>
Let's try the first <a href="https://cs.brown.edu/courses/cs019/2018/docdiffdocdiff.html">assignment</a>. One way to slog through a long chapter on list functions is to actually implement something using lists, then we can refer to it as reference. In other words it becomes a research project to read that we are more motivated to do since we're trying to complete a task.
</p>

<p>
Without knowing what a vector is, we can see from the assignment writeup that it is defined as a list of numbers, that represent the count of letters of the alphabet. [list: "a", "b", "c"] becomes the 'vector' [list: 1, 1, 1, 0] if our vector includes "d", which would be zero since there aren't any d's in the first list. 
</p>

<p>
The <a href="https://en.wikipedia.org/wiki/Dot_product#Algebraic_definition">dot product</a> algebraic definition is what we want. Ignore the sigma notation at first and look at the example for [1,3,-5] x [4,-2,-1]. Each index in the first list is multiplied by it's corresponding index in the second list, then those results are added together. To read the sigma notation, a*b = the sum of \(a_ib_i\) starting at index 1 (first element of the list) up to the length of the list (n):
</p>

<p>
If a = [1, 3, -5] and b = [4, -2, -1]:
</p>

<p>
\(a*b = \displaystyle \sum_{i=1}^3 a_ib_i\) = (\(1_{a1} * 4_{b1})+(3_{a2} * -2_{b2})+(-5_{a3} * -1_{b3})\)
</p>

<p>
Now you know how to read sigma notation. Some more requirements are listed, such as ignoring the case (upper/lower) of a letter when counting it's number of occurences. Overlap looks confusing at first but note the exact formula: (vector of one list of words) x (vector of another list of words) divided by the max of both vectors square, or multiplied by themselves. 
</p>

<p>
When we write examples, this overlap() function will write itself. What this assignment is asking for is:
</p>

<p>
Given two lists of words, of arbitrary length, make a third list that is the total number of unique characters or 'vector space'. So list1 = [list: "cat"]) and list2 = [list: "hat"] should produce a total list3 = [list: "a", "c", "h", "t"] in some kind of sorted order. Then compare each of list1 and list2 to this global unique characters list3, to produce 2 new lists of each, representing the count of all their letters: list1-vector = [list: 1, 1, 0, 1] and list2-vector = [list: 1, 0, 1, 1]. The two new vector lists should be the same size as list3, the total unique characters.
</p>

<p>
Take the two new lists, and determine their overlap by a given formula of: dotProduct(list1-vector,list2-vector) divided by max(square(dotProduct(list1-vector,list2-vector)),square(dotproduct(list2-vector,list1-vector))).
</p>

<p>
TODO: examples
</p>
</div>
</div>
</div>


<div id="outline-container-org0e2a63e" class="outline-2">
<h2 id="org0e2a63e"><span class="todo TODO">TODO</span> : Brown CS173 <i>Programming Languages</i></h2>
<div class="outline-text-2" id="text-org0e2a63e">
<p>
We'll do this after CS019, as we need to learn how to build things like parsers when there is no good existing library in python/julia/whatever to do so. We'll do the <a href="http://cs.brown.edu/courses/cs173/2012/Videos/">lectures</a> and 2012 book, and the newer <a href="http://cs.brown.edu/courses/cs173/2017/assignments.html">mystery languages</a> assignments.
He may even put up a new PLAI by the time we get to it, he'll start writing up the 2020 version in the <a href="https://www.plai.org/">spring</a>..
</p>
</div>
</div>
</div>
</body>
</html>
